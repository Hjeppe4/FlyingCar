'''import RPi.GPIO as GPIO



# Pin Setup
left1_moter_pins = (35,16)
left2_moter_pins = (33,18)
right1_moter_pins = (32,11)
right2_moter_pins = (12,13)

left_sensor_pin = 19
right_sensor_pin = 21
GPIO.setmode(GPIO.BOARD)
GPIO.setup(left_sensor_pin, GPIO.IN)
GPIO.setup(right_sensor_pin, GPIO.IN)
GPIO.setup(left1_motor_pins, GPIO.OUT)
GPIO.setup(right1_motor_pins, GPIO.OUT)
GPIO.setup(left2_motor_pins, GPIO.OUT)
GPIO.setup(right2_motor_pins, GPIO.OUT)
speed = 0.65
left1_mot = 1
right1_mot = 1
left2_mot = 1
right2_mot = 1
def motor_speed():
    try:
        while True:
            left_detect = GPIO.input(left_sensor_pin)
            right_detect = GPIO.input(right_sensor_pin)
            if left_detect == 1 and right_detect == 1:
                print("Go straight")
            if left_detect == 1 and right_detect == 0:
                print("Turn left")
            if left_detect == 0 and right_detect == 1:
                print("Turn right")
            if left_detect == 0 and right_detect == 0:
                print("Collision!")
    
    except KeyboardInterrupt:
        GPIO.cleanup()
motor_speed()
'''
'''
import RPi.GPIO as GPIO

# Pin Setup
left1_motor_pins = (35, 16)
left2_motor_pins = (33, 18)
right1_motor_pins = (32, 11)
right2_motor_pins = (12, 13)

left_sensor_pin = 19
right_sensor_pin = 21

GPIO.setmode(GPIO.BOARD)
GPIO.setup(left_sensor_pin, GPIO.IN)
GPIO.setup(right_sensor_pin, GPIO.IN)
GPIO.setup(left1_motor_pins + left2_motor_pins + right1_motor_pins + right2_motor_pins, GPIO.OUT)

speed = 0.65
left1_mot = 1
right1_mot = 1
left2_mot = 1
right2_mot = 1

def motor_speed():
    try:
        while True:
            left_detect = GPIO.input(left_sensor_pin)
            right_detect = GPIO.input(right_sensor_pin)

            if left_detect == 1 and right_detect == 1:
                print("Go straight")
                left1_mot = 1
                left2_mot = 1
                right1_mot = 1
                right2_mot = 1
            if left_detect == 1 and right_detect == 0:
                print("Turn left")
                left1_mot = 0
                left2_mot = 0
                right1_mot = 1
                right2_mot = 0
            if left_detect == 0 and right_detect == 1:
                print("Turn right")
                left1_mot = 1
                left2_mot = 0
                right1_mot = 0
                right2_mot = 0
            if left_detect == 0 and right_detect == 0:
                print("Collision!")

    except KeyboardInterrupt:
        GPIO.cleanup()

motor_speed()
'''
import RPi.GPIO as GPIO
from time import sleep

# Pin Setup
IN1 = 16  # Replace with the GPIO pin you connected to IN1
IN2 = 35  # Replace with the GPIO pin you connected to IN2
IN3 = 18  # Replace with the GPIO pin you connected to IN3
IN4 = 33  # Replace with the GPIO pin you connected to IN4

speed = 50  # Set the initial speed (0-100)

# Initialize GPIO
GPIO.setmode(GPIO.BCM)
GPIO.setup(IN1, GPIO.OUT)
GPIO.setup(IN2, GPIO.OUT)
GPIO.setup(IN3, GPIO.OUT)
GPIO.setup(IN4, GPIO.OUT)

# Function to control motor direction
def set_motor_direction(left_dir1, right_dir2):
    GPIO.output(IN1, left_dir1)
    GPIO.output(IN2, not left_dir1)
    GPIO.output(IN3, right_dir2)
    GPIO.output(IN4, not right_dir2)

# Function to set motor speed
def set_motor_speed(left_speed1, right_speed2):
    left_pwm = GPIO.PWM(IN2, 1000)  # 1000 Hz frequency
    right_pwm = GPIO.PWM(IN4, 1000)  # 1000 Hz frequency
    left_pwm.start(left_speed)
    right_pwm.start(right_speed)

# Initial motor direction and speed
set_motor_direction(1, 1)  # Set both motors to forward
set_motor_speed(speed, speed)  # Set the initial speed
'''
try:
    while True:
        # Your line sensor logic here
        left_detect = 1
        right_detect = 1
        if left_detect == 1 and right_detect == 1:
            print("Go straight")
            set_motor_direction(1, 1)  # Both motors forward
            set_motor_speed(speed, speed)
        elif left_detect == 1 and right_detect == 0:
            print("Turn left")
            set_motor_direction(0, 1)  # Left motor backward, right motor forward
            set_motor_speed(speed, speed)
        elif left_detect == 0 and right_detect == 1:
            print("Turn right")
            set_motor_direction(1, 0)  # Left motor forward, right motor backward
            set_motor_speed(speed, speed)
        else:
            print("Collision")
            set_motor_speed(0, 0)  # Stop both motors
        sleep(0.1)

except KeyboardInterrupt:
    set_motor_speed(0, 0)  # Stop both motors
    GPIO.cleanup()
'''